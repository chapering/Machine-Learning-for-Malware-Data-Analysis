package com.adobe.reader;

import android.content.Context;
import android.text.Layout;
import android.widget.TextView;

public class FreeTextView
  extends TextView
{
  private int mBaselineTop;
  private ARViewer mContext;
  private int mExtraLineSpace;
  private float mFontSize;
  private float mPaddingBottom;
  private float mPaddingLeft;
  private float mPaddingRight;
  private float mZoomLevel;
  
  public FreeTextView(Context paramContext)
  {
    super(paramContext);
    this.mContext = ((ARViewer)paramContext);
  }
  
  public void initializeFreeTextView(int paramInt1, int paramInt2)
  {
    this.mZoomLevel = ((float)this.mContext.getPageView().getCurrentZoomLevel());
    this.mFontSize = getTextSize();
    this.mPaddingLeft = getPaddingLeft();
    this.mPaddingRight = getPaddingRight();
    this.mPaddingBottom = getPaddingBottom();
    int i = paramInt1;
    if (paramInt1 == 0) {
      i = (int)getTextSize();
    }
    this.mBaselineTop = i;
    this.mExtraLineSpace = paramInt2;
  }
  
  protected void onLayout(boolean paramBoolean, int paramInt1, int paramInt2, int paramInt3, int paramInt4)
  {
    float f = (float)this.mContext.getPageView().getCurrentZoomLevel() / this.mZoomLevel;
    setTextSize(0, this.mFontSize * f);
    Layout localLayout = getLayout();
    if (localLayout != null)
    {
      paramInt1 = (int)(this.mBaselineTop * f - localLayout.getLineBaseline(0));
      setPadding((int)(this.mPaddingLeft * f), paramInt1, (int)(this.mPaddingRight * f), (int)(this.mPaddingBottom * f));
      if (this.mExtraLineSpace > 0) {
        setLineSpacing(f * this.mExtraLineSpace, 1.0F);
      }
    }
  }
}
