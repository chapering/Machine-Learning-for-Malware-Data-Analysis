package com.adobe.reader;

import android.content.Context;
import android.util.AttributeSet;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

public class PencilToolbar
  extends LinearLayout
  implements View.OnClickListener
{
  private ARViewer mARViewer;
  
  public PencilToolbar(Context paramContext)
  {
    super(paramContext);
    this.mARViewer = ((ARViewer)paramContext);
  }
  
  public PencilToolbar(Context paramContext, AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    this.mARViewer = ((ARViewer)paramContext);
  }
  
  private PARInkCommentUIHandlerAndroid getInkHandler()
  {
    return this.mARViewer.getPageView().getDocViewManager().getCommentManager().getInkCommentHandler();
  }
  
  public void commit()
  {
    getInkHandler().creationDone();
  }
  
  public void enableButton(int paramInt, boolean paramBoolean)
  {
    View localView = findViewById(paramInt);
    localView.setEnabled(paramBoolean);
    ((ToolbarButtonDrawable)localView.getBackground()).setEnabled(paramBoolean);
  }
  
  public void onClick(View paramView)
  {
    Object localObject = (CommentingToolbar)((ARViewer)getContext()).getToolbar().findViewById(2131493133);
    if (localObject != null)
    {
      localObject = ((CommentingToolbar)localObject).getInstructionToast();
      if (localObject != null) {
        ((Toast)localObject).cancel();
      }
    }
    int i = paramView.getId();
    paramView = getInkHandler();
    if (i == 2131493020) {
      paramView.creationDone();
    }
    if (i == 2131493018)
    {
      paramView.freeformUndo();
      enableButton(2131493019, true);
    }
    if (i == 2131493019) {
      paramView.freeformRedo();
    }
    while (i != 2131493016) {
      return;
    }
    paramView.clearUI();
  }
  
  protected void onFinishInflate()
  {
    findViewById(2131493016).setOnClickListener(this);
    View localView = findViewById(2131493018);
    localView.setOnClickListener(this);
    localView.setBackgroundDrawable(new ToolbarButtonDrawable(localView, 2130837837, 2130837837, 2130837835));
    localView = findViewById(2131493019);
    localView.setOnClickListener(this);
    localView.setBackgroundDrawable(new ToolbarButtonDrawable(localView, 2130837778, 2130837778, 2130837776));
    findViewById(2131493020).setOnClickListener(this);
    ((TextView)findViewById(2131493017)).setText(2131362176);
    enableButton(2131493018, false);
    enableButton(2131493019, false);
    ((Button)findViewById(2131493020)).setEnabled(false);
  }
  
  public boolean onTouchEvent(MotionEvent paramMotionEvent)
  {
    return true;
  }
}
