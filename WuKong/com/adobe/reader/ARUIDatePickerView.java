package com.adobe.reader;

import android.app.DatePickerDialog;
import android.app.DatePickerDialog.OnDateSetListener;
import android.widget.DatePicker;
import java.text.SimpleDateFormat;
import java.util.Date;

public class ARUIDatePickerView
  implements DatePickerDialog.OnDateSetListener
{
  private ARViewer mContext;
  private DatePickerDialog mDateDialog;
  private String mDateFormatString;
  private ARUIDatePickerViewListener mListener;
  
  public ARUIDatePickerView(ARViewer paramARViewer, ARUIDatePickerViewListener paramARUIDatePickerViewListener)
  {
    this.mContext = paramARViewer;
    this.mListener = paramARUIDatePickerViewListener;
    this.mDateFormatString = null;
    this.mDateDialog = null;
  }
  
  private String convertDateToString(Date paramDate)
  {
    try
    {
      paramDate = new SimpleDateFormat(this.mDateFormatString).format(paramDate);
      return paramDate;
    }
    catch (Exception paramDate) {}
    return "";
  }
  
  private Date convertStringToDate(String paramString)
  {
    try
    {
      paramString = new SimpleDateFormat(this.mDateFormatString).parse(paramString);
      return paramString;
    }
    catch (Exception paramString) {}
    return new Date();
  }
  
  public void dismiss()
  {
    if (this.mDateDialog != null)
    {
      this.mDateDialog.dismiss();
      this.mDateDialog = null;
    }
  }
  
  public void display(String paramString1, String paramString2)
  {
    this.mDateFormatString = paramString2;
    paramString1 = convertStringToDate(paramString1);
    this.mDateDialog = new DatePickerDialog(this.mContext, this, paramString1.getYear() + 1900, paramString1.getMonth(), paramString1.getDate());
    this.mDateDialog.show();
  }
  
  public void onDateSet(DatePicker paramDatePicker, int paramInt1, int paramInt2, int paramInt3)
  {
    paramDatePicker = convertDateToString(new Date(paramInt1 - 1900, paramInt2, paramInt3));
    this.mListener.onDateSet(paramDatePicker);
  }
  
  public static abstract interface ARUIDatePickerViewListener
  {
    public abstract void onDateSet(String paramString);
  }
}
