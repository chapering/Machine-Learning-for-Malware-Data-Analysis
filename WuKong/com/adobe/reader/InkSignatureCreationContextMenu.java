package com.adobe.reader;

import android.content.Context;
import android.view.View;
import android.widget.PopupWindow.OnDismissListener;

public class InkSignatureCreationContextMenu
  extends BaseContextMenu
  implements PopupWindow.OnDismissListener
{
  private static final int ADD_SIGNATURE_COMMAND = 0;
  private static final int EDIT_SIGNATURE_COMMAND = 1;
  private PARInkSignatureCommentUIHandlerAndroid mInkSignatureHandler = null;
  private boolean mIsButtonPressed = false;
  private ARViewer mReader = null;
  
  public InkSignatureCreationContextMenu(Context paramContext, PARInkSignatureCommentUIHandlerAndroid paramPARInkSignatureCommentUIHandlerAndroid)
  {
    super(paramContext, 0, BaseContextMenu.MenuType.TEXT_MENU);
    this.mReader = ((ARViewer)paramContext);
    this.mInkSignatureHandler = paramPARInkSignatureCommentUIHandlerAndroid;
    addItem(0, this.mReader.getString(2131361913));
    addSeparator();
    addItem(1, this.mReader.getString(2131361914));
    addSeparator();
    setOnDismissListener(this);
  }
  
  public void onClick(View paramView)
  {
    this.mIsButtonPressed = true;
    super.onClick(paramView);
    switch (paramView.getId())
    {
    default: 
      return;
    case 0: 
      this.mInkSignatureHandler.addExistingSignature();
      return;
    }
    this.mInkSignatureHandler.editExistingSignature();
  }
  
  public void onDismiss()
  {
    if (!this.mIsButtonPressed) {
      this.mReader.getPageView().getDocViewManager().getCommentManager().getInkCommentHandler().clearUI();
    }
    this.mIsButtonPressed = false;
  }
}
